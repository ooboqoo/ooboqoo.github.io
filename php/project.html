<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../main.css" />
<script src="../main.js"></script>
<title>项目管理</title>
</head>
<body>
<div id="article">

<h1>项目管理</h1>

<div>
<h2>25.1 在web开发中应用软件工程</h2>
<p>若干年前，“交互式”网站处于表单邮件的阶段，如今，Web站点已经变成了Web应用程序，如此规模的项目需要像一般软件开发那样进行规划和管理。</p>
<p>以前，网站开发的管理经常与书面报告的管理方法相同，他是一个面向文档的模式。这对中小型静态网站来说是很适宜的，也很有效。
但是随着动态内容的增加，网站的功能由原来简单地提供文档发展到提供服务，原先的模式就不适用了，需要在Web项目中引入软件工程实践。
但web项目与软件又有所不同，对网站的设计，我们没有什么规划时间，但却面临很大压力，要求马上建好，所以要采用适合web应用程序开发新规则的软件工程部分。</p>
</div>

<div>
<h2>25.2 规划和运行web应用程序项目</h2>
<ul>
<li>在项目开始之前，必须明确要创建什么，创建的最终目标是什么。</li>
<li>尝试将应用程序分成几个部分，然后看看哪些是现有的，哪些是需要重新编写的。</li>
<li>对工作进程问题作出决定：代码编写标准、目录结构、版本控制、文档 以及任务分配等</li>
<li>基于所有已经获得的信息构建一个原型，展示给用户，并反复修改和展示。</li>
<li>对系统进行必要的优化，和普通软件开发一样，边开发边测试</li>
</ul>
</div>

<div>
<h2>25.3 代码重用</h2>
<h3>PHP内置函数库</h3>
<p>PHP的一个优点就是他有大量内置的函数库，我们应该经常查看是否已经存在一个能够完成所需功能的函数。
PHP注释手册包含了评注、建议和其他用户编写的示例代码，通常这些资源还包含了问题报告和问题的解决方法。</p>
<p>一些有着不同语言背景的编程人员可能会编写一些封装函数，并且使用这些封装函数完全改变PHP原函数的名称以适应他们熟悉的语言。它是一个糟糕的主意，这将使得别人很难读懂这些代码，从而带来代码维护问题。</p>
<h3>社区的源代码</h3>
<p>如果PHP主函数库没有提供，如果功能非常简单，可以选择自己编写函数或对象，如果需要创建一个相当复杂的功能，例如购物车、Web邮件系统或Web论坛，我们会发现这些东西别人已经做好了。
我们可以将这些源代码作为基础，在此基础上修改或创建自己的组件。</p>
</div>

<div>
<h2>25.4 编写可维护代码</h2>
<h3>25.4.1 编码标准</h3>
<p>大多数IT组织都制定了编码标准——选择文件名、变量名以形成内部编码准则、注释代码的准则、代码缩进的准则等。</p>
<h4>1. 定义命名惯例</h4>
<p>定义一个命名规范的目的是为了：使代码易读；使标识符易记</p>
<ul>
<li>变量名称应该能够描述其所包含的数据，但应该在长度和可读性之间找一个平衡点</li>
<li>变量名称是区分大小写的，需要决定在什么时候使用大写。我们更倾向于全部使用小写，最容易记忆</li>
<li>将常量和变量通过大小写区分是一个好主意——通常额模式是：变量都用小写，常量都用大写</li>
</ul>
<p>多单词变量的命名模式：$username $user_name $userName 这些都是常见的命名模式，选择任何一种都是没有问题的，但关键是要一直保持使用这种规范。另外，对于多单词变量名，一个名字应该最多包含2-3个单词。</p>
<p>函数名称的命名规范</p>
<p>PHP内置的函数，如addslashes()或mysqli_connect() 清楚地描述了他们的功能和要传递的参数。不过PHP的命名是不一致的，原因可能是参与开发的人员太多，但更主要的原因是许多函数名是直接从不同的语言和API拿过来的，未经改动。</p>
<p>此外，PHP的函数名是不区分大小写的，我们应该一直坚持一种特定的格式，以避免造成混乱。</p>
<p>PHP5提供了过程接口和面向对象接口，在这两种接口中，函数名称是不同的。通常过程接口使用下划线，而面向对象接口使用小驼峰式命名。</p>

<h4>2. 对代码进行注释</h4>
<ul>
<li>文件，无论是完整的脚本还是包含文件都应该有一个注释，说明该文件的名称、功能、作者和更新日期</li>
<li>函数，函数的注释应指明函数功能，输入参数和返回值</li>
<li>类，注释应描述类的用途。类方法应该具有与函数描述相同的注释</li>
<li>脚本或函数里面的一大段大码，在脚本之前添加一段伪代码样式的注释是很好的</li>
<li>复杂的代码，当整天围绕某件事，或者花费了很长时间来解决的问题，应该编写一段注释解释那样做的原因</li>
</ul>
<p>另一个通常要遵循的原则是一边写代码一边做注释，几乎没有人会在完成代码后再回头来做注释。</p>

<h4>3. 代码缩进</h4>
<p>通常，要避免使用tab，虽然容易敲入，但它占了太多空间，建议使用2-3个空格来缩进。</p>

<h3>25.4.2 分解代码</h3>
<p>将代码分解成清晰的代码块有一下好处</p>
<ul>
<li>使源代码易读、易懂</li>
<li>可以提高源代码的重用性，将代码冗余减少到最小</li>
<li>方便团队工作，通常将每个组件的主要责任分配给特定人员是一个好的办法。</li>
</ul>

<h3>25.4.3 使用标准的目录结构</h3>
<p>在开始一个项目的时候，必须考虑组件结构如何反映到网站目录结构中。</p>

<h3>25.4.4 文档化和共享内部函数</h3>
<p>即使代码存在于可以访问的区域或目录中，如果不告诉他们，他们也不会知道。开发一个能够文档化内部函数库的系统，并使开发队伍中每一个编程人员可以获取它。</p>
</div>

<div>
<h2>25.5 实现版本控制</h2>
<p>貌似现在流行的是git版本控制吧，github</p>
<h2>25.6 选择一个开发环境</h2>
<h2>25.7 项目的文档化</h2>
<p>可以使用phpdoc等自动生成文档——特别是技术文档和数据词典</p>
<h2>25.8 建立原型</h2>
<p>一个原型是对于获得用户需求很有意义的工具。对原型的多次反复讨论将最终产生应用程序。</p>
<h2>25.9 将逻辑和内容分离</h2>
<p>对于只有行数不多的代码或脚本的简单项目，使用分离法是得不偿失的。但是当项目扩大的时候，就必须找到将逻辑和内容分离的方法。PHP HTML CSS 分别负责逻辑 内容 外观。</p>
<p>分离逻辑和内容有3种基本的方法：</p>
<ul>
<li>用包含文件保存不同部分的内容（例见第5章）</li>
<li>用一个函数或者带有一组成员函数的类API将动态内容插入到静态网页模板中（例见第6章）</li>
<li>使用模板系统</li>
</ul>
</div>

<div>
<h2>优化代码</h2>
<ul>
<li>减少数据库连接。通常连接数据库是所有脚本中最慢的部分</li>
<li>加速数据库查询。在数据库的命令行界面运行查询，尝试使用不同的方法来加速查询。MySQL可以使用EXPLAIN语句</li>
<li>尽量减少echo生成的静态内容。如果每次页面载入的时候需要从函数或模板生成静态网页，可以考虑运行一次函数或使用一次模板，然后保存结果。</li>
<li>尽可能使用字符串函数代替正则表达式函数</li>
<li>使用专门优化程序优化代码，如Zend公司的优化程序可以提高脚本运行速度40%--100%</li>
</ul>
</div>

<div>
<h2>测试</h2>
<p>首先应采用代码审查，也就是让另外一位或一组编程人员查看代码并提出改进意见。</p>
<p>第二个建议是让最终用户作为测试人员。不仅可以得到非编程人员的反馈，还能提高客户员工在网站中的主人翁感。</p>
</div>

<h1>调试</h1>
<div>
<h2>26.1 编程错误</h2>
<h3>26.1.1 语法错误</h3>
<p>语法错误在讨论解析性语言的时候经常称为解析错误；在讨论编译性语言的时候也称为编译错误。</p>
<p>PHP的最大的一个优点就是在出错的时候会给出出错信息，而且其出错信息十分有用。</p>
<p>一般来说，语法错误是最容易找出的错误类型。</p>

<h3>26.1.2 运行时错误</h3>
<p>通常，以下操作易导致运行时的错误：</p>
<ul>
<li>调用不存在的函数或参数不符</li>
<li>读写文件</li>
<li>与数据库交互</li>
<li>连接到网络服务</li>
<li>检查输入数据失败</li>
</ul>
<p>典型的运行时错误的例子是在处理用户输入数据的时候忘记对该数据执行addslashes()函数。</p>

<h3>26.1.3 逻辑错误</h3>
<p>逻辑错误是最难发现和清除的类型。这类错误类型的代码是完全正确的，而且也能按照正确的程序逻辑执行，但是这种工作并不是编程人员所期望的。</p>
<pre>for ($i=0;$i<10;$i++)<code>;</code> { echo 'doing something\n'; }</pre>
<p>逻辑错误有许多。没有自动检测的方法。唯一的办法是，首先要消除暗含在脚本中的假设；其实是彻底地测试每种可能有效或无效的输入，确认这些输入都得到了期望结果。</p>
</div>

<div>
<h2>26.2 使用变量帮助调试</h2>
<p>将变量输出加入到HTML注释，这样可以看到它们，而且不会影响浏览器对可见页面元素的显示方式。这是创建调试信息的一种好方法。</p>
</div>

<div>
<h2>26.3 错误报告级别</h2>
<p>默认的错误级别是报告除了通知之外的所有错误，由如下所示语句指定：<code>E_ALL & ~E_NOTICE</code>可以通过设定为<code>E_ALL | E_STRICT</code>报告脚本中可能出现的所有通知。</p>
</div>

<div>
<h2>26.4 改变错误报告设置</h2>
<p>可以通过php.ini或在每个脚本中进行错误报告设置。</p>
<table>
<tr><td>error_reporting = E_ALL & ~E_NOTICE</td><td>报告除通知之外的所有错误</td></tr>
<tr><td>display_errors = On</td><td>以HTML形式将出错信息输出到标准输出接口</td></tr>
<tr><td>log_errors = Off</td><td>不将错误信息作为日志记录到磁盘</td></tr>
<tr><td>track_errors = Off</td><td>不跟踪错误，将错误保存在变量$php_errormsg中</td></tr>
</table>
<h2>26.5 触发自定义错误</h2>
<h2>26.6 巧妙地处理错误</h2>
<p>异常处理允许函数发出信号通知错误出现，并将错误处理交给一个专门的异常处理程序。</p>
</div>

</div>
</body>
</html>