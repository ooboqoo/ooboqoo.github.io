# 阅读源码


## 源码阅读方法

https://juejin.im/post/5c97b1876fb9a0711103dbb2

#### 1. 先挑选简单的项目入门

大型的开源项目蕴含了各种底层技术细节、设计思想，还有复杂的算法和机制，不是初学者能理解的。可以先挑选一个最简单地项目，功能少、代码少，只依赖一些语言基础知识，这样看起来就轻松很多。从简单项目的源码入门，再逐步增加阅读量，向更难的项目进军。

#### 2. 先搞定底层依赖的技术，循序渐进

假设经过了几个月的努力，把一些开源框架的源码，比如 SSM 三大框架的源码都看了，现在你的技术实力有了进一步的提升。这些提升，主要体现在对开源项目的设计思想、组件设计、组件交互，还有框架封装等，都有了进一步的了解。

接下来你就可以尝试去阅读一些更难一点的源码。此时你会发现这项项目都有依赖，如果不把底层依赖先搞懂，是很难理解源码的。这时就要先把依赖的技术的源码研究透彻，再一步一步往上层的技术去研究，这样看那些复杂技术的源码就会轻松很多。

#### 3. 一定要以 Hello World 作为入口来阅读

下载到源码后，不要直接去看源码，先写一个最最基本的 Hello World 程序，把它的核心功能跑通。然后就可以打断点，一步步调试跟踪，熟悉底层代码的流程。

#### 4. 抓大放小，边写注释边画图

很多同学看源码的时候，喜欢把每一行代码都看懂，最后不停地点到很深沉的地方去，把自己给绕晕了，最后淹死在源码的海洋里...

阅读源码的一大典型原则是：**抓大放小**，你只需要抓最核心的代码流程，那些无关紧要的代码，千万别强迫症点进去反复看，那样绝对会让你对源码从入门到放弃。

譬如这样一段代码 `checkUser(); fetchFromPeers(); countMetrics();` 从方法名就可以看出来，先是做了一个权限检查之类的操作，然后是核心业务逻辑，去抓数据，最后是做了一些指标统计。你应该直接跳过第一、第三行，直接进入第二行核心逻辑。

另外，大家一定要养成一个习惯，在看源码的过程中尽量多写注释。你应该结合自己的理解，尽可能把自己在源码的阅读过程中的思考都写成注释添加到源码里。这个习惯可以促使你一边阅读一边思考，有自己注释的源码，是你宝贵的财富。

此外，还有一个非常重要的点，那就是一定要多画图。你可以尝试在阅读的过程中，提取源码运行的核心流程，一边读源码一边自己画在图上。画图能帮助你抽象和总结出源码的核心流程，以后如果要回顾和复习，直接看图即可。

#### 5. 反复三遍，真正理解源码

看第一遍，需要抓大放小，把一些非核心代码都忽略了。但第一遍看完以后，通过写注释、画图，对一个开源项目的核心流程、架构以及原理都有了一定的理解。此时再去读第二遍，你会发现之前很多看不懂得细节都能看懂了。然后再看第三遍，你会发现大多数的代码自己都能看懂了。

任何一个源码，都是要至少反复看三遍，不是看一遍就可以完成的。

#### 6. 借力打力，参考源码分析书籍及博客

先自己尝试看几遍，有了一定理解之后，可以借助源码分析书籍或博客，参考其他技术牛的同学对源码的理解，结合自己之前的一些思考，综合起来分析，相信一定大有裨益。你会发现人家的一些理解可以很好地补充你没想明白的一些问题，或者是忽略的一些细节。

#### 7. 最后寄语：用几年时间锻造自己的核心技术

其实上面的过程说起来简单，实际做起来非常困难。因为上面的任何一个步骤，在阅读过程中你都有大量的东西是不会的，而且会觉得很难，甚至经常有想放弃的冲动。只有那些能克服人的动物本能，迎难而上，坚韧不拔的同学，才能真正攻克各种技术难题。也许你要持续一年才能有个小的开悟，持续三年才能有一定的心得，持续五年甚至八年才能说真正融汇贯通。

但是坚持这个事情同样是很可怕的，一旦你坚持做到了，那么你将锻造出来自己最硬核的技术实力，远远不是普通人或者刚毕业的同学可以追上你的。

希望各位同学可以从现在开始，尝试着用笔者分享的技巧阅读源码，跳出舒适区，去拥抱更大的舒适区。真正体验一下读透源码之后，根据报错日志，从源码层面精确定位项目问题，精确制导线上 bug，感受一下这种上帝视角解决问题的快感吧。



