# 工程实践索引


## A/B test

客户端的A/B TEST和服务端的A/B TEST方案模型有啥不同，采用什么样的数据埋点方便数据收集？

无论是客户端的A/B测试还是服务端的A/B测试，都同样方便数据埋点和数据收集。两种方案各有特点，且各自有其适用的场景。简单来说，客户端的A/B测试可以将测试成本和影响控制在客户端应用中，而不用更改任何后台服务代码或增加后台服务的压力；客户端可以轻松完成很丰富灵活的基于UI的A/B测试（比如利用可视化技术，用户可以轻松做到无代码埋点，轻松更改客户端的UI展示，完成相关A/B测试）。对于服务端的A/B测试来说，它很适合做后台算法类的实验，可以在不更改前端应用代码的情况下轻松完成A/B测试；后台服务器可以访问更丰富的数据源，为A/B测试中的获取客户标签、定向分流等功能提供更强大的支持；它还可以完全避免了由于前端网速导致下拉配置首次失效的问题，使得所有前端用户都可以即时准确得到相关实验版本（比如，在任意一个前端新用户的首次登陆时，后台都能够准确发现，并且及时给他们展示为新手特意准备的落地页）。


## 灰度发布

灰度发布：是指在黑与白之间，能够平滑过渡的一种发布方式。AB test就是一种灰度发布方式，让一部分用户继续用A，一部分用户开始用B，如果用户对B没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到B上面来。灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。（百度百科）
除了AB test灰度发布另一种思想是，只发布给一小部分用户，如：App在发布之前，可能会针对性的给一小批种子用户发送下载链接，或者到小的应用市场去发布。用小流量发布的方式来检验新版会不会有问题。

https://www.jianshu.com/p/88f206f48278  
https://www.jianshu.com/p/1112d94f21ae  

合理运用灰度发布和A/B测试，对于PM来讲，是必须要掌握的核心技能之一，我们每天都在研究、体验、设计产品，有时会想当然的觉得这个流程不复杂，这个操作很简单，用户应该上来就会用，不知不觉间就把我们思维强加给了用户。细节决定成败早已不是空谈，对于任何可能影响到用户体验的地方，都应该防患于未然，已经被无数优秀的产品证明，用户粘性是最重要的。

### 在线灰度发布功能是如何加速App/Web敏捷开发的

王晔：对于早期App开发者，精细化的优化成本太高，大量的微调型的A/B测试也没有必要。对于这些开发者，AppAdhoc平台依然可能很有帮助，特别是我们提供了一个非常有用的在线灰度发布功能，可以大大提高开发者的敏捷开发效率。

我们的SDK 包装了“模块开关”这个API接口，开发者在每次改动代码时可以在控制台定义一个或者几个模块开关，然后用模块开关来保护代码改动。简单的说，可以让新功能只有在模块开关打开的情况下才展示给手机用户。

在新代码部署上线之后，用户对新代码无感知。开发者可以通过AppAdhoc控制台开放新功能给部分用户，用来检测bug和获得用户反馈。如果发现问题，可以随时回滚到老版本；如果新功能获得成功，则可以推送给所有用户。

```txt
                编码流程              优化平台
                明确开发功能   -->     定义模块开关
开发阶段      开关保护新功能开发      <--- |
                       \-----------\>
试验阶段        修正BUG    <----   创建试验（内部测试、线上小流量测试、调整流量、发布新功能）
                  </----------------|
代码整理阶段    清理模块开关和过时代码  -->    弃用模块开发
```

### AB测框架

https://www.tipfine.com/2018/11/16/ab-测试和灰度发布探索及实践/

### 中台

前台强调的是对用户的需求作出快速反馈，需要做到快速迭代，而后台更多的是帮助企业管理一些核心数据，更多的要求是稳定。

随着业务不断的发展壮大，企业更加需要保持后台系统的稳定，而前台系统因为要快速响应用户的需求，会有大量的新业务需求被加到前台系统中，这就导致前台会做很多重复工作，系统也越发膨胀，对用户的响应能力变慢。

所以在企业运行中两者就出现了衔接不畅的问题！为了确保前台、后台既能更好地独立工作，又能协调一致做好衔接，就衍生出了“中台”这一概念。

...此次参观之后，阿里备受启发，也迅速开展了自己的“中台战略”。阿里提炼各个业务板块的的共性需求，并打造组件化的资源包，然后开放给前台各业务部门使用，最大限度地减少“重复造轮子”。





