<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../w3c.css" />
<script src="../notes.js"></script>
<script src="../highlight.js"></script>
<title>jQuery 教程</title>
</head>
<body>
<div id="article">

<h1>jQuery 教程</h1>

<div id="contents">
<ul>
    <li><a href="#introduce">简介</a></li>
    <li><a href="#selectors">选择器</a></li>
    <li><a href="#traversing">遍历</a></li>
    <li><a href="#events">事件</a></li>
    <li><a href="#effects">特效</a></li>
    <li><a href="#html">HTML/CSS</a></li>
    <li><a href="#ajax">AJAX</a></li>
    <li><a href="#misc">杂项</a></li>
</ul>
</div>

<h1 id="introduce">jQuery 简介</h1>

<div>
<p>jQuery 是一个“写的更少，但做的更多”的轻量级 JavaScript 库。</p>
<p>jQuery 库包含以下特性：</p>
<ul>
<li>HTML 元素选取</li>
<li>HTML 元素操作</li>
<li>CSS 操作</li>
<li>HTML 事件函数</li>
<li>JavaScript 特效和动画</li>
<li>HTML DOM 遍历和修改</li>
<li>AJAX</li>
<li>Utilities</li>
</ul>
</div>

<div>
<h2>下载 jQuery</h2>
<p>有两个版本的 jQuery 可供下载：</p>
<ul>
<li>Production version - 用于实际的网站中，已被精简和压缩。</li>
<li>Development version - 用于测试和开发（未压缩，是可读的代码）</li>
</ul>
</div>

<div>
<h2>把 jQuery 添加到您的网页</h2>
<pre>&lt;head&gt;    // 请注意，&lt;script&gt; 标签应该位于页面的 &lt;head&gt; 部分
&lt;script src="jquery.js"&gt;&lt;/script&gt;
&lt;/head&gt;
</pre>
<p>JavaScript 是 HTML5 以及所有现代浏览器中的默认脚本语言！所以标签中可以省略 type="text/javascript"</p>
<p>如果您不希望下载并存放 jQuery，那么也可以通过 CDN（内容分发网络） 引用它。</p>
<pre>
&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"&gt;&lt;/script&gt;
</pre>
<p class="tip"><span>提示：</span>通过 Google CDN 来获得最新可用的版本：</p>
<p>如果您观察上什么的 Google URL - 在 URL 中规定了 jQuery 版本 (1.8.0)。如果您希望使用最新版本的 jQuery，也可以从版本字符串的末尾（比如本例 1.8）删除一个数字，谷歌会返回 1.8 系列中最新的可用版本（1.8.0、1.8.1 等等），或者也可以只剩第一个数字，那么谷歌会返回 1 系列中最新的可用版本。</p>
<p class="tip"><span>提示：</span>使用谷歌或微软的 jQuery，有一个很大的优势：</p>
<p>许多用户在访问其他站点时，已经从谷歌或微软加载过 jQuery。当他们访问您的站点时，会从缓存中加载 jQuery，这样可以减少加载时间。同时，大多数 CDN 都可以确保当用户向其请求文件时，会从离用户最近的服务器上返回响应，这样也可以提高加载速度。</p>
</div>

<div>
<h2>jQuery 语法</h2>
<p>jQuery 语法是为 HTML 元素的选取编制的，可以对元素执行某些操作。</p>
<p>基础语法是：<em>$(selector).action()</em></p>
<ul>
<li>美元符号定义 jQuery</li>
<li>选择符（selector）“查询”和“查找” HTML 元素</li>
<li>jQuery 的 action() 执行对元素的操作</li>
</ul>
<p class="tip"><span>提示：</span>jQuery 使用的语法是 XPath 与 CSS 选择器语法的组合。</p>
</div>

<h1 id="selectors">jQuery 选择器</h1>
<div>
<p>jQuery 元素选择器和属性选择器允许您通过标签名、属性名或内容对 HTML 元素进行选择。</p>
<p>选择器允许您对 HTML 元素组或单个元素进行操作。</p>

<h3>jQuery 元素选择器</h3>
<p>jQuery 使用 CSS 选择器来选取 HTML 元素。</p>
<p>$("p") 选取 &lt;p&gt; 元素。</p>
<p>$("p.intro") 选取所有 class="intro" 的 &lt;p&gt; 元素。</p>
<p>$("p#demo") 选取所有 id="demo" 的 &lt;p&gt; 元素。</p>

<h3>jQuery 属性选择器</h3>
<p>jQuery 使用 XPath 表达式来选择带有给定属性的元素。</p>
<p>$("[href]") 选取所有带有 href 属性的元素。</p>
<p>$("[href='#']") 选取所有带有 href 值等于 "#" 的元素。</p>
<p>$("[href!='#']") 选取所有带有 href 值不等于 "#" 的元素。</p>
<p>$("[href$='.jpg']") 选取所有 href 值以 ".jpg" 结尾的元素。</p>

<h3>jQuery CSS 选择器</h3>
<p>jQuery CSS 选择器可用于改变 HTML 元素的 CSS 属性。</p>
<pre class="js">$("p").css("background-color","red");  // 把所有 p 元素的背景颜色更改为红色</pre>
</div>

<h1 id="traversing">jQuery 遍历</h1>

<div>
<h2>遍历 DOM</h2>
<p>jQuery 提供了多种遍历 DOM 的方法。遍历方法中最大的种类是树遍历（tree-traversal）。</p>
</div>

<div>
<h2>向上遍历 DOM 树</h2>
<h3>parent() 方法返回被选元素的直接父元素。</h3>
<h3>parents() 方法返回被选元素的所有祖先元素，它一路向上直到文档的根元素 (&lt;html&gt;)。</h3>
<p>您也可以使用可选参数来过滤对祖先元素的搜索。</p>
<pre class="js">$("span").parents("ul");</pre>
<h3>parentsUntil() 方法返回介于两个给定元素之间的所有祖先元素。</h3>
<pre class="js">$("span").parentsUntil("div");</pre>
</div>

<div>
<h2>向下遍历 DOM 树</h2>
<h3>children() 方法返回被选元素的所有直接子元素。</h3>
<pre class="js">$("div").children("p.class1");  // 由选择器筛选（可选）</pre>

<h3>find() 方法返回被选元素的后代元素，一路向下直到最后一个后代。</h3>
<pre class="js">
$("div").find("span");
$("div").find("*");  // 返回 &lt;div&gt; 的所有后代，<code>选择器是必选项</code>
</pre>
</div>

<div>
<h2>在 DOM 树中水平遍历</h2>
<h3>siblings() 方法返回被选元素的所有同胞元素。</h3>
<pre class="js">$("h2").siblings("p");  // 可以使用可选参数来过滤对同胞元素的搜索</pre>

<h3>next() 方法返回被选元素的下一个同胞元素。</h3>
<pre class="js">$("h2").next();  // 该方法只返回一个元素</pre>

<h3>nextAll() 方法返回被选元素的所有跟随的同胞元素。</h3>
<pre class="js">$("h2").nextAll();  // 返回 &lt;h2&gt; 的所有跟随的同胞元素</pre>

<h3>nextUntil() 方法返回介于两个给定参数之间的所有跟随的同胞元素。</h3>
<pre class="js">$("h2").nextUntil("h6");  // 返回介于 &lt;h2&gt; 与 &lt;h6&gt; 元素之间的所有同胞元素</pre>

<h3>prev() prevAll() prevUntil() 方法</h3>
<p>prev(), prevAll() 以及 prevUntil() 方法的工作方式与上面的方法类似，只不过方向相反而已：它们返回的是前面的同胞元素（在 DOM 树中沿着同胞元素向后遍历，而不是向前）。</p>
</div>

<div>
<h2>缩写搜索元素的范围</h2>
<p>三个最基本的过滤方法是：first(), last() 和 eq()，它们允许您基于其在一组元素中的位置来选择一个特定的元素。其他过滤方法，比如 filter() 和 not() 允许您选取匹配或不匹配某项指定标准的元素。</p>

<h3>first() 方法返回被选元素的首个元素。</h3>
<pre class="js">$("div p").first();  // 选取首个&lt;div&gt;元素内部的第一个&lt;p&gt;元素</pre>

<h3>last() 方法返回被选元素的最后一个元素。</h3>
<pre class="js">$("div p").last();  // 选择最后一个&lt;div&gt;元素中的最后一个&lt;p&gt;元素</pre>

<h3>eq() 方法返回被选元素中带有指定索引号的元素。</h3>
<p>索引号从 0 开始，因此首个元素的索引号是 0 而不是 1。下面的例子选取第二个 &lt;p&gt; 元素（索引号 1）：</p>
<pre class="js">$("p").eq(1);</pre>

<h3>filter() 方法返回匹配标准的元素</h3>
<pre class="js">$("p").filter(".intro");</pre>

<h3>not() 方法返回不匹配标准的所有元素</h3>
<p class="tip"><span>提示：</span>not() 方法与 filter() 相反。</p>
<pre class="js">$("p").not(".intro");</pre>
</div>

<h1 id="events">jQuery 事件</h1>

<div>
<h2>jQuery 事件函数</h2>
<p>jQuery 事件处理方法是 jQuery 中的核心函数。</p>
<p>事件处理程序指的是当 HTML 中发生某些事件时所调用的方法。方法由事件触发。</p>
<p>通常会把 jQuery 代码放到 &lt;head&gt;部分的事件处理方法中：</p>
<pre>
&lt;head&gt;
&lt;script type="text/javascript" src="jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
$(document).ready(function(){
  <code>$("button").click(function(){
    $("p").hide();
  });</code>
});
&lt;/script&gt;
&lt;/head&gt;
</pre>
</div>

<div>
<h2>文档就绪函数</h2>
<p>您也许已经注意到在我们的实例中的所有 jQuery 函数位于一个 document ready 函数中：</p>
<pre class="js">$(document).ready(function(){
<span>--- jQuery functions go here ----</span>
});
</pre>
<p>这是为了防止文档在完全加载（就绪）之前运行 jQuery 代码。</p>
<p>如果在文档没有完全加载之前就运行函数，操作可能失败。下面是两个具体的例子：</p>
<ul>
<li>试图隐藏一个不存在的元素</li>
<li>获得未完全加载的图像的大小</li>
</ul>
</div>

<div>
<h2>单独文件中的函数</h2>
<p>如果网站包含许多页面，并且希望您的函数易于维护，那么请把您的 jQuery 函数放到独立的 .js 文件中。</p>
</div>

<div>
<h2>jQuery 名称冲突</h2>
<p>jQuery 使用 $ 符号作为 jQuery 的缩略形式。</p>
<p>某些其他 JavaScript 库中的函数（比如 Prototype）同样使用 $ 符号。</p>
<p>jQuery 使用名为 noConflict() 的方法来解决该问题。</p>
<pre class="js">var jq=jQuery.noConflict()  // 使用 jq 来代替 $ 符号</pre>
</div>
<div>
<h2>总结</h2>
<p>由于 jQuery 是为处理 HTML 事件而特别设计的，那么当您遵循以下原则时，您的代码会更恰当且更易维护：</p>
<ul>
<li>把所有 jQuery 代码置于事件处理函数中</li>
<li>把所有事件处理函数置于文档就绪事件处理器中</li>
<li>把 jQuery 代码置于单独的 .js 文件中</li>
<li>如果存在名称冲突，则重命名 jQuery 库</li>
</ul>
</div>
<div>
<p>下面是 jQuery 中事件方法的一些例子：</p>
<table><tbody>
<tr><th>Event 函数</th><th>绑定函数至</th></tr>
<tr><td>$(document).ready(function)</td><td>将函数绑定到文档的就绪事件（当文档完成加载时）</td></tr>
<tr><td>$(selector).click(function)</td><td>触发或将函数绑定到被选元素的点击事件</td></tr>
<tr><td>$(selector).dblclick(function)</td><td>触发或将函数绑定到被选元素的双击事件</td></tr>
<tr><td>$(selector).focus(function)</td><td>触发或将函数绑定到被选元素的获得焦点事件</td></tr>
<tr><td>$(selector).mouseover(function)</td><td>触发或将函数绑定到被选元素的鼠标悬停事件</td></tr>
</tbody></table>
</div>

<h1 id="effects">jQuery 特效</h1>
<div>
<h2>jQuery 效果 - 隐藏和显示</h2>
<h3>jQuery hide() 和 show()</h3>
<p>通过 jQuery，您可以使用 hide() 和 show() 方法来隐藏和显示 HTML 元素：</p>
<pre class="js">$(selector).hide(speed,callback);
$(selector).show(speed,callback);
</pre>
<p>可选的 speed 参数规定隐藏/显示的速度，可以取以下值："slow"、"fast" 或毫秒。slow 为 600 默认 400 fast 200</p>
<p>可选的 callback 参数是隐藏或显示完成后所执行的函数名称。</p>
<pre class="js">$("button").click(function(){
  $("p").hide(1000);
});
</pre>

<h3>jQuery toggle()</h3>
<p>可以使用 toggle() 方法来切换 hide() 和 show() 方法。显示被隐藏的元素，或隐藏已显示的元素：</p>
<pre class="js">$(selector).toggle(speed,callback);</pre>
</div>

<div>
<h2>jQuery 效果 - 淡入淡出</h2>
<p>jQuery 拥有下面四种 fade 方法：</p>

<h3>jQuery fadeIn() fadeOut() fadeToggle()方法</h3>
<p>jQuery fadeIn() 用于淡入已隐藏的元素。</p>
<p>jQuery fadeOut() 方法用于淡出可见元素。</p>
<p>jQuery fadeToggle() 方法可以在 fadeIn() 与 fadeOut() 方法之间进行切换。</p>

<h3>jQuery fadeTo() 方法</h3>
<p>jQuery fadeTo() 方法允许渐变为给定的不透明度（值介于 0 与 1 之间）。</p>
<pre class="js">.fadeTo( duration, opacity [, easing ] [, complete ] )</pre>
</div>

<div>
<h2>jQuery 效果 - 滑动</h2>
<h3>slideDown() slideUp() slideToggle()</h3>
</div>

<div>
<h2>jQuery 效果 - 自定义动画</h2>

<h3>jQuery animate() 方法用于创建自定义动画。</h3>
<pre>用法1 .animate( {properties} [, duration ] [, easing ] [, complete ] );</pre>
<p>必需的 {properties} 参数定义形成动画的 CSS 属性。</p>
<pre>用法2 .animate( {properties}, {options} )  // 更高级更底层的用法</pre>
<p class="tip"><span>提示：</span>默认地，所有 HTML 元素都有一个静态位置，且无法移动。</p>
<p>如需对位置进行操作，要记得首先把元素的 CSS position 属性设置为 relative、fixed 或 absolute！</p>

<h3>jQuery animate() - 操作多个属性</h3>
<p>请注意，生成动画的过程中可同时使用多个属性：</p>
<pre class="js">$("button").click(function(){
  $("div").animate({
    left:'250px',
    opacity:'0.5',
    height:'150px',
    width:'150px'
  });
}); 
</pre>
<p>可以用 animate() 方法来操作所有 CSS 属性吗？是的，几乎可以！</p>
<p>当使用 animate() 时，必须使用 Camel 标记法书写所有的属性名，比如使用 paddingLeft 而不是 padding-left。</p>
<p>同时，色彩动画并不包含在核心 jQuery 库中，需要下载 Color Animations 插件。</p>

<h3>jQuery animate() - 使用相对值</h3>
<p>也可以定义相对值（该值相对于元素的当前值）。需要在值的前面加上 += 或 -=：</p>
<pre class="js">$("button").click(function(){
  $("div").animate({
    left:'250px',
    height:'+=150px',
    width:'+=150px'
  });
});
</pre>

<h3>jQuery animate() - 使用预定义的值</h3>
<p> .animate() 方法针对CSS属性提供了简写值： 'show' 、 'hide'
和 'toggle' ，以便在简写方法不适用时提供另一种简化方式。</p>
<pre class="js">$("button").click(function(){
  $("div").animate({
    height:'toggle'
  });
});
</pre>

<h3>jQuery animate() - 使用队列功能</h3>
<p>默认地，jQuery 提供针对动画的队列功能。如果您希望在彼此之后执行不同的动画，那么我们要利用队列功能。</p>
<pre class="js">$("button").click(function(){
  var div=$("div");
  div.animate({height:'300px',opacity:'0.4'},"slow");
  div.animate({width:'300px',opacity:'0.8'},"slow");
  div.animate({height:'100px',opacity:'0.4'},"slow");
  div.animate({width:'100px',opacity:'0.8'},"slow");
});
</pre>
</div>

<div>
<h2>jQuery Callback 函数</h2>
<p>Callback 函数在当前动画 100% 完成之后执行。</p>
<p>由于 JavaScript 语句（指令）是逐一执行的 - 按照次序，动画之后的语句可能会产生错误或页面冲突，因为动画还没有完成。为了避免这个情况，您可以以参数的形式添加 Callback 函数。</p>
<pre class="js">$("p").hide(1000);
alert("The paragraph is now hidden");  // 弹出提示时，并没有隐藏，错误
</pre>
<pre class="js">$("p").hide(1000,function(){
alert("The paragraph is now hidden");  // 隐藏执行完毕后才弹出提示，正确
});
</pre>
<p class="note"><span>结论：</span>如果您希望在一个涉及动画的函数之后来执行语句，请使用 callback 函数。</p>
</div>

<div>
<h2>jQuery Chaining</h2>
<p>链接技术（chaining），允许我们在相同的元素上运行多条 jQuery 命令，一条接着另一条。</p>
<p class="tip"><span>提示：</span>这样的话，浏览器就不必多次查找相同的元素。</p>
<pre class="js">$("#p1").css("color","red").slideUp(2000).slideDown(2000);</pre>
<p class="tip"><span>提示：</span>当进行链接时，代码行会变得很长。不过，jQuery 在语法上不是很严格；您可以按照希望的格式来写，包含折行和缩进。jQuery 会抛掉多余的空格，并按照一行长代码来执行上面的代码行。</p>
<pre class="js">
$("#p1").css("color","red")
  .slideUp(2000)
  .slideDown(2000);
</pre>
</div>

<div>
<h2>4.5 并发与排队效果 （jQuery基础教程 P77）</h2>

<h3>1. 越过队列</h3>
<pre class="js">
$("div")
.css({backgroundColor: '#0f0'})
.fadeTo(2000, 0.1)
.animate({left:'+=100px'}, {duration: 2000, <code>queue: false</code>})
//把queue设置为 false 即可让当前动画与前一个动画同时开始
.fadeTo(2000, 1.0);
</pre>

<h3>2. 手工队列</h3>
<p>一个需要注意的问题是排队不能自动应用到其他的非效果方法，如 .css() 。下面，假设我们想在 fadeTo 0.1 执行后但在 fadeTo 1.0 执行前，把背景颜色修改为红色。然而，即使把修改背景颜色的代码放在执行链序列中正确的位置上，它也会在单击后立即执行。
把非效果方法添加到队列中的一种方式，就是使用 .queue() 方法。</p>
<pre class="js">
$("div")
.css({backgroundColor: '#0f0'})
.fadeTo(2000, 0.1)
//.css({backgroundColor: '#f00'})  // 若使用这行代码，背景色在fadeTo 0.1之前已经是红色了
.queue(function(){ $("div").css({backgroundColor: '#f00'})<code>.dequeue()</code>;})
// dequeue()不能省，否则动画会中断
.fadeTo(2000, 1.0);
</pre>
<p>像这样传递一个回调函数， .queue() 方法就可以把该函数添加到相应元素的效果队列中。以上代码的效果等同于：</p>
<pre class="js">
$("div")
.css({backgroundColor: '#0f0'})
.fadeTo(2000, 0.1, function(){ $("div").css({backgroundColor: '#f00'}).dequeue();})
.fadeTo(2000, 1.0);
</pre>

<h3>3. 回调函数中的效果生效时间</h3>
<p>回调函数中的代码，会立即执行，但如果回调函数中有给当前元素添加效果的代码，那么，只会将效果添加到队列最后，而不会立即执行，或者说，代码执行的结果，是完成了给元素添加效果的过程。</p>
<pre class="js">
$("div")
.css({backgroundColor: '#0f0'})
.fadeTo(2000, 0.1)
.queue(function(){ $("div").animate({left: '+=40px'})<code>.dequeue()</code>;})
.fadeTo(2000, 1.0);
// 以上代码，最终移动是在完成 fadeTo1.0 之后才执行
</pre>

<h3>4. 处理多组元素</h3>
<p>当给多组元素添加效果时，每一组元素的效果都是独立进行的，如果要控制先后顺序，就要使用回调函数。</p>
<p>在使用回调函数控制不同元素间的动画顺序时，要注意 this 对象的变化。最保险的办法就是：先用一个变量存储操作对象，然后在回调函数内引用该变量，这样不容易错。</p>
<pre class="js">
// 以下代码，在点击第一个段落时，第二个段落会显示，然后第一个段落会隐藏
$('p')
.eq(0).css('border', '1px solid #333')
.next().css('backgroundColor', '#ccc').hide()
.end().click(function() {
  var $clickedItem = $(this);
  $clickedItem.next().slideDown('slow', function() {
  $clickedItem.slideUp('slow');  // 如果这里用$(this)，将指向$('p')[1]
});
</pre>

<h3>jQuery stop() 方法</h3>
<p>jQuery stop() 方法用于停止动画或效果，在它们完成之前。</p>
<p>stop() 方法适用于所有 jQuery 效果函数，包括滑动、淡入淡出和自定义动画。</p>
<pre class="js">$(selector).stop(stopAll,goToEnd);</pre>
<p>可选的 stopAll 参数规定是否应该清除动画队列。默认是 false，即仅停止活动的动画，允许任何排入队列的动画向后执行。</p>
<p>可选的 goToEnd 参数规定是否立即完成当前动画。默认是 false。</p>
<p>因此，默认地，stop() 会清除在被选元素上指定的当前动画。</p>
</div>

<h1 id="html">jQuery HTML</h1>

<div>
<p>jQuery 中非常重要的部分，就是操作 DOM 的能力。</p>
<p>jQuery 提供一系列与 DOM 相关的方法，这使访问、操作元素及属性变得很容易。</p>
</div>

<div>
<h2>设置/获取内容和属性</h2>
<h3>获得/设置内容 - text()、html() 以及 val()</h3>
<p>三个简单实用的用于 DOM 操作的 jQuery 方法：</p>
<ul>
<li>text() - 设置或返回所选元素的文本内容</li>
<li>html() - 设置或返回所选元素的内容（包括 HTML 标记）</li>
<li>val() - 设置或返回表单字段的值</li>
</ul>

<h3>获取/设置属性 - attr()</h3>
<p>jQuery attr() 方法用于获取/设置属性值。</p>
<pre class="js">
$("button").click(function(){
  alert($("#w3s").attr("href"));
});
</pre>
<pre class="js">
$("button").click(function(){
  $("#w3s").attr({
    "href" : "http://www.w3school.com.cn/jquery",
    "title" : "W3School jQuery Tutorial"
  });
});
</pre>

<h3>text()、html()、val() 以及 attr() 的回调函数</h3>
<p>回调函数由两个参数：被选元素列表中当前元素的下标，以及原始（旧的）值。然后以函数新值返回您希望使用的字符串。</p>
<pre class="js">
$("#btn2").click(function(){
  $("#test2").html(function(i,origText){
    return "Old html: " + origText + " New html: Hello &lt;b&gt;world!&lt;/b&gt;
    (index: " + i + ")";
  });
});
</pre>
</div>

<div>
<h2>添加新的 HTML 内容</h2>
<p>我们将学习用于添加新内容的四个 jQuery 方法：</p>
<ul>
<li>append() - 在被选元素的结尾插入内容</li>
<li>prepend() - 在被选元素的开头插入内容</li>
<li>after() - 在被选元素之后插入内容</li>
<li>before() - 在被选元素之前插入内容</li>
</ul>

<h3>jQuery append() 方法在被选元素的结尾插入内容。</h3>
<pre class="js">$("p").append("Some appended text.");</pre>

<h3>jQuery prepend() 方法在被选元素的开头插入内容。</h3>
<pre class="js">$("p").prepend("Some prepended text.");</pre>

<h3>通过 append() 和 prepend() 方法添加多个新元素</h3>
<p>append() 和 prepend() 方法能够通过参数接收无限数量的新元素。</p>
<p>这些元素可以通过 text/HTML、jQuery 或者 JavaScript/DOM 来创建。</p>
<pre class="js">
function appendText() {                // 通过3种方法添加相同的3行 &lt;p&gt;Text.&lt;/p&gt;
  var txt1="&lt;p&gt;Text.&lt;/p&gt;";               // 以 HTML 创建新元素
  var txt2=$("&lt;p&gt;&lt;/p&gt;").text("Text.");   // 以 jQuery 创建新元素
  var txt3=document.createElement("p");  // 以 DOM 创建新元素
  txt3.innerHTML="Text.";
  <code>$("p").append(txt1,txt2,txt3);</code>         // 同时追加多个新元素
}
</pre>

<h3>jQuery after() 和 before() 方法</h3>
<pre class="js">
$("img").after("Some text after");
$("img").before("Some text before");
</pre>

<h3>通过 after() 和 before() 方法添加多个新元素</h3>
</div>

<div>
<h2>删除元素/内容</h2>
<p>如需删除元素和内容，一般可使用以下两个 jQuery 方法：</p>
<ul>
<li>remove() - 删除被选元素（及其子元素）</li>
<li>empty() - 从被选元素中删除子元素</li>
</ul>
<h3>jQuery remove() 方法删除被选元素及其子元素。</h3>
<pre class="js">$("#div1").remove();</pre>
<p>jQuery remove() 方法也可接受一个参数，允许您对被删元素进行过滤。</p>
<pre class="js">$("p").remove(".italic");</pre>
<h3>jQuery empty() 方法删除被选元素的子元素。</h3>
<pre class="js">$("#div1").empty();</pre>
</div>

<div>
<h2>操作 CSS</h2>
<p>jQuery 拥有若干进行 CSS 操作的方法。我们将学习下面这些：</p>
<ul>
<li>addClass() - 向被选元素添加一个或多个类</li>
<li>removeClass() - 从被选元素删除一个或多个类</li>
<li>toggleClass() - 对被选元素进行添加/删除类的切换操作</li>
<li>css() - 设置或返回样式的计算属性</li>
</ul>

<h3>jQuery addClass() 方法</h3>
<pre class="js">$("button").click(function(){
  $("h1,h2,p").addClass("blue");  // 在添加类时可以选取多个元素
  $("div").addClass("important");
});
</pre>
<pre class="js">$("button").click(function(){
  $("#div1").addClass("important blue");  // 您也可以在 addClass() 方法中规定多个类
});
</pre>

<h3>jQuery removeClass() 方法</h3>
<pre class="js">$("button").click(function(){
  $("h1,h2,p").removeClass("blue");  // 从多个元素删除指定的 class 属性
});
</pre>
<h3>jQuery toggleClass() 方法</h3>
<pre class="js">$("button").click(function(){
  $("h1,h2,p").toggleClass("blue");  // 该方法对被选元素进行添加/删除类的切换操作
});
</pre>
</div>

<div>
<h2>jQuery css() 方法</h2>
<p>css() 方法设置或返回被选元素的一个或多个样式属性。</p>
<h3>返回 CSS 属性（计算值）</h3>
<pre class="js">css("propertyname");</pre>
<pre class="js">$("p").css("background-color");</pre>
<h3>设置 CSS 属性</h3>
<pre class="js">css("propertyname","value");</pre>
<pre class="js">$("p").css("background-color","yellow");</pre>
<h3>设置多个 CSS 属性</h3>
<pre class="js">css({"propertyname":"value","propertyname":"value",...});</pre>
<pre class="js">$("p").css({"background-color":"yellow","font-size":"200%"});</pre>
</div>

<div>
<h2>jQuery 尺寸 方法</h2>
<p>jQuery 提供多个处理尺寸的重要方法：</p>
<ul>
<li>width() 方法设置或返回元素的宽度（不包括内边距、边框或外边距）</li>
<li>height() 方法设置或返回元素的高度（不包括内边距、边框或外边距）</li>
<li>innerWidth() 方法返回元素的宽度（包括内边距）</li>
<li>innerHeight() 方法返回元素的高度（包括内边距）</li>
<li>outerWidth() 方法返回元素的宽度（包括内边距和边框）</li>
<li>outerHeight() 方法返回元素的高度（包括内边距和边框）</li>
<li>outerWidth(true) 方法返回元素的宽度（包括内边距、边框和外边距）</li>
<li>outerHeight(true) 方法返回元素的高度（包括内边距、边框和外边距）</li>
</ul>
<pre class="js">
$("button").click(function(){
  var txt="";
  txt+="Width: " + $("#div1").width() + "&lt;/br&gt;";
  txt+="Height: " + $("#div1").height();
  $("#div1").html(txt);
});
</pre>

<h3>jQuery - 更多的 width() 和 height()</h3>
<p>下面的例子返回文档（HTML 文档）和窗口（浏览器视口）的宽度和高度：</p>
<pre class="js">
$("button").click(function(){
  var txt="";
  txt+="Document width/height: " + $(document).width();
  txt+="x" + $(document).height() + "\n";
  txt+="Window width/height: " + $(window).width();
  txt+="x" + $(window).height();
  alert(txt);
});
</pre>
<p>下面的例子设置指定的 &lt;div&gt; 元素的宽度和高度：</p>
<pre class="js">  $("#div1").width(500).height(500);</pre>
</div>

<h1 id="ajax">jQuery - AJAX 简介</h1>

<div>
<h2>什么是 AJAX？</h2>
<p>AJAX = 异步 JavaScript 和 XML（Asynchronous JavaScript and XML）。</p>
<p>简短地说，在不重载整个网页的情况下，AJAX 通过后台加载数据，并在网页上进行显示。</p>
<p>使用 AJAX 的应用程序案例：谷歌地图、腾讯微博、优酷视频、人人网等等。</p>
</div>

<div>
<h2>jQuery load() 方法</h2>
<p>jQuery load() 方法是简单但强大的 AJAX 方法。</p>
<p>load() 方法从服务器加载数据，并把返回的数据放入被选元素中。</p>
<h3>语法：</h3>
<pre class="js">$(<i>selector</i>).load(<i>URL</i>,<i>data</i>,<i>callback</i>);</pre>
<p>必需的 <i>URL</i> 参数规定您希望加载的 URL。</p>
<p>可选的 <i>data</i> 参数规定与请求一同发送的查询字符串键/值对集合。</p>
<p>可选的 <i>callback</i> 参数是 load() 方法完成后所执行的函数名称。</p>
<p><span class="marked">这是示例文件（"demo_test.txt"）的内容：</span></p>
<pre class="js">&lt;h2&gt;jQuery and AJAX is FUN!!!&lt;/h2&gt;
&lt;p id="p1"&gt;This is some text in a paragraph.&lt;/p&gt;
</pre>
<p>下面的例子会把文件 "demo_test.txt" 的内容加载到指定的 &lt;div&gt; 元素中：</p>
<pre class="js">$("#div1").load("demo_test.txt");</pre>
<p>也可以把 jQuery 选择器添加到 URL 参数。</p>
<p>下面的例子把 "demo_test.txt" 文件中 id="p1" 的元素的内容，加载到指定的 &lt;div&gt; 元素中：</p>
<pre class="js">$("#div1").load("demo_test.txt #p1");</pre>
<p>可选的 callback 参数规定当 load() 方法完成后所要允许的回调函数。回调函数可以设置不同的参数：</p>
<ul>
<li><i>responseTxt</i> - 包含调用成功时的结果内容</li>
<li><i>statusTXT</i> - 包含调用的状态</li>
<li><i>xhr</i> - 包含 XMLHttpRequest 对象</li>
</ul>
<p>下面的例子会在 load() 方法完成后显示一个提示框。如果 load() 方法已成功，则显示“外部内容加载成功！”，而如果失败，则显示错误消息：</p>
<pre class="js">$("button").click(function(){
  $("#div1").load("demo_test.txt",function(responseTxt,statusTxt,xhr){
    if(statusTxt=="success")
      alert("外部内容加载成功！");
    if(statusTxt=="error")
      alert("Error: "+xhr.status+": "+xhr.statusText);
  });
});
</pre>
</div>

<div>
<h2>HTTP 请求：GET vs. POST</h2>
<p>两种在客户端和服务器端进行请求-响应的常用方法是：GET 和 POST。</p>
<ul>
<li><em>GET</em> - 从指定的资源请求数据</li>
<li><em>POST</em> - 向指定的资源提交要处理的数据</li>
</ul>
<p>GET 基本上用于从服务器获得（取回）数据。注释：GET 方法可能返回缓存数据。</p>
<p>POST 也可用于从服务器获取数据。不过，POST 方法不会缓存数据，并且常用于连同请求一起发送数据。</p>

<h2>jQuery $.get() 方法</h2>
<p>$.get() 方法通过 HTTP GET 请求从服务器上请求数据。</p>
<pre class="js">$.get(<i>URL</i>,<i>callback</i>);</pre>
<p>必需的 <i>URL</i> 参数规定您希望请求的 URL。</p>
<p>可选的 <i>callback</i> 参数是请求成功后所执行的函数名。</p>
<p>下面的例子使用 $.get() 方法从服务器上的一个文件中取回数据：</p>
<pre class="js">$("button").click(function(){
  $.get("demo_test.asp",function(data,status){
    alert("Data: " + data + "\nStatus: " + status);
  });
});
</pre>

<h2>jQuery $.post() 方法</h2>
<p>$.post() 方法通过 HTTP POST 请求从服务器上请求数据。</p>
<pre class="js">$.post(<i>URL</i>,<i>data</i>,<i>callback</i>);</pre>
<p>必需的 <i>URL</i> 参数规定您希望请求的 URL。</p>
<p>可选的 <i>data</i> 参数规定连同请求发送的数据。</p>
<p>可选的 <i>callback</i> 参数是请求成功后所执行的函数名。</p>
<p>下面的例子使用 $.post() 连同请求一起发送数据：</p>
<pre class="js">
$("button").click(function(){
  $.post("demo_test_post.asp", { name:"Donald Duck", city:"Duckburg" }, function(data,status){
    alert("Data: " + data + "\nStatus: " + status); });
});
</pre>
</div>

<h1 id="misc">杂项</h1>

<div>
<h2>jQuery 和其他 JavaScript 框架</h2>
<p>正如您已经了解到的，jQuery 使用 $ 符号作为 jQuery 的简写。某些其他框架也使用 $ 符号作为简写，如果您在用的两种不同的框架正在使用相同的简写符号，有可能导致脚本停止运行。jQuery 的团队考虑到了这个问题，并实现了 noConflict() 方法。</p>
</div>
<div>
<h2>jQuery noConflict() 方法</h2>
<p>noConflict() 方法会释放会 $ 标识符的控制，这样其他脚本就可以使用它了。</p>
<p>当然，您仍然可以通过全名替代简写的方式来使用 jQuery：</p>
<pre class="js">$.noConflict();
jQuery(document).ready(function(){
  jQuery("button").click(function(){
    jQuery("p").text("jQuery 仍在运行！");
  });
});
</pre>
<p>您也可以创建自己的简写。noConflict() 可返回对 jQuery 的引用，您可以把它存入变量，以供稍后使用。请看这个例子：</p>
<pre class="js">var jq = $.noConflict();
jq(document).ready(function(){
  jq("button").click(function(){
    jq("p").text("jQuery 仍在运行！");
  });
});
</pre>
<p>如果你的 jQuery 代码块使用 $ 简写，并且您不愿意改变这个快捷方式，那么您可以把 $ 符号作为变量传递给 ready 方法。这样就可以在函数内使用 $ 符号了 - 而在函数外，依旧不得不使用 "jQuery"：</p>
<pre class="js">$.noConflict();
jQuery(document).ready(function($){
  $("button").click(function(){
    $("p").text("jQuery 仍在运行！");
  });
});
</pre>
</div>

</div>
</body>
</html>